
//
// Resources are containers for assets
//
// Modifiers map to the API resource types
// http://teknik.ne.se/wiki/API#type
//

// Main resource class
.resource { }


//
// Resource type modifiers
// http://teknik.ne.se/wiki/API#type
//

// Image resource
.resource.bild {

  .resource-font-size;
  .resource-make-maxwidth-container;

  // Stop images from overflowing their containers
  img {
    width: auto;

    // Add border to images
    border-width: 3px;
    border-style: solid;
    border-color: @base06;
    padding: @padding-base-vertical;
  }

  .asset {
    position: relative;
  }
  .byline {
    display: block;
    font-size: @font-size-small;
    color: @gray-mid-light;
    padding: @padding-base-vertical 0;
  }

  figure {
    .block;

    > .asset {
      .block;

        img {
          max-height: none;
        }

      .byline {
        color: @gray-mid-light;
        font-size: @font-size-small;
        .block;
      }
    }

    figcaption .huvud {
      font-size: inherit;
    }
  }

  figcaption {
    text-align: left;
    color: @gray-mid-dark;
    font-size: @font-size-base;
    margin: @padding-base-vertical 0;

    .uppslag {
      font-style: italic;
      font-weight: bold;
    }
  }

}

// Standalone bild resurser
.resource.bild.standalone {
  max-width: none;
  margin-left: 0;
  margin-right: 0;

  figcaption {
    .make-md-column(8);
    .make-xl-column(6);
  }
}

// -----------------------------------

.resource.bild.animation {}
.resource.bild.karta {}
.resource.bild.fotografi {}
.resource.bild.teckning {}

// Video resource modifiers
.resource.film {

  .resource-font-size;
  .resource-make-maxwidth-container;

  .asset {
    .mb-xs;
  }
  object {
    border-width: 3px;
    border-style: solid;
    border-color: @base06;
    background-color: #000; // IE fix. Otherwise the video is transparent
    .transition(~'border-color 120ms linear');
  }

  figure {

    .byline {
      font-size: @font-size-small;
      color: @gray-mid-light;
      padding: @padding-base-vertical 0;
    }
  }
  figcaption {
    text-align: left;
    margin: @padding-base-vertical 0;
  }
  figcaption, figcaption p {
    color: @gray-mid-dark;
    font-size: @font-size-base;
    font-family: @font-family-sans-serif;

    .huvud {
      font-size: inherit;
      .uppslag {
        font-style: italic;
        font-weight: bold;
      }
    }
  }

  
}
.resource.film.ne {}

// Audio resource modifiers
.resource.ljud {
  .mb-sm;
  .pronunciation {
    position: relative;
    top: 5px;
  }
  p {
    font-size: @font-size-base;
    font-family: @font-family-sans-serif;
  }
  figure {
    .byline {
      font-size: @font-size-small;
      color: @gray-mid-light;
    }
  }
  figcaption, figcaption p {
    color: @gray-mid-dark;
    font-size: @font-size-base;
    font-family: @font-family-sans-serif;
    .huvud {
      font-size: inherit;
      .uppslag {
        font-style: italic;
        font-weight: bold;
      }
    }
  }
}

.resource.ljud.musik,
.resource.ljud.dialekt,
.resource.ljud.djur,
.resource.ljud.effekt,
.resource.ljud.nationalsång {
  .resource-font-size;
  .resource-make-maxwidth-container;
}

.resource.ljud.musik {}
.resource.ljud.dialekt {}
.resource.ljud.djur {}
.resource.ljud.effekt {}
.resource.ljud.nationalsång {}

// Ljud.uttal should be inline with the text
.resource.ljud.uttal {
  .mb-none;

  .pronunciation {
    &.collapse.in,
    &.collapsing {
      display: inline-block;
    }
  }
}

// Toggle button for ljud resources
.resource-ljud-toggle {

  .resource-ljud-toggle-icon {
    color: @base02;
  }

  // Set icons for different states
  .resource-ljud-toggle-icon:before { content: @fa-var-chevron-circle-left; }
  &.collapsed .resource-ljud-toggle-icon:before { content: @fa-var-volume-up; }
}

// Figure resource modifiers
.resource.figur {}
.resource.figur.textruta {
  .panel;
  .rubrik1 {
    .h4;
  }
  .rubrike2 {
    .h5;
  }
}
.resource.figur.tabell,
.resource.figur.textruta {
  .mb-sm;
  .mt-sm;
  .huvud {
    .h4;
    .uppslag {
      .mr-xs;
    }
    .btn {
      color: white;
    }
  }
  table {
    .table;
    .table-condensed;
    .table-striped;
    td.align-right {
      text-align: right;
    }
  }
}
.resource.figur.exempel {}

.resource.interaktiv.karta {
  .mb-sm;
  >.fa {
    float: left;
    font-size: 17px;
    line-height: 20px;
    margin-right: 6px;
  }
  figcaption {
    p {
      display: inline;
      .mr-xs;
    }
  }
  .huvud {
    .uppslag {
      .h4;
    }
  }
  .byline {
    font-size: @font-size-small;
    color: @gray-mid-light;
    display: block;
  }
}

// Math
.resource.matematik.formel {
  font-size: 120%;
  .mb-xs;
}


// Resource mixins
//----------------
.resource-font-size() {
  font-size: @font-size-base;
  font-family: @font-family-sans-serif;

  p {
    font-size: @font-size-base;
    font-family: @font-family-sans-serif;
  }
}

// Create a resource container which is a specific-relative width
.resource-make-maxwidth-container() {
  .mt-md;
  .mb-md;

  // Add some padding for the mobile
  @media (max-width: @screen-sm-max) {
    padding: 0 @padding-large-vertical;
  }

  // The following media query makes sure that the resource isn't wider 
  // than the max-width. And also adds margin for the left over space.
  @media (min-width: @screen-sm-min) {
    max-width: @max-width-body;
    margin-left: (@font-size-body * @max-width-body-ratio - @font-size-base * @max-width-body-ratio) / 2 - 5;
  }
}
